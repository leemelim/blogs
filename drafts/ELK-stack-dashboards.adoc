---
layout: post
title: "Open Liberty Kibana Dashboard Improvements"
categories: blog
author_picture: https://avatars3.githubusercontent.com/leemelim
author_github: https://github.com/leemelim
additional_authors: 
 - name: Ellen Lau
   github: https://github.com/ellen-lau
   image: https://avatars3.githubusercontent.com/u/28316667
seo-title: Open Liberty Kibana Dashboard Improvements - OpenLiberty.io
seo-description: Start Open Liberty with JSON Logging or Logstash Collector feature. Analyze log events of your Liberty servers using Kibana dashboards for Elastic stack.
blog_description: "Start Open Liberty with JSON Logging or Logstash Collector feature. Analyze log events of your Liberty servers using Kibana dashboards for Elastic stack."
---
= Open Liberty Kibana Dashboard Improvements
Halim Lee <https://github.com/leemelim>

Log aggregation and analysis are essential in order to monitor and quickly troubleshoot problems in your server. Elastic Stack is a widely used set of tools to aggregate and analyze the log events. You can use our sample Kibana dashboards for Liberty with logstashCollector-1.0 feature or with the logs from JSON logging and interact with your log data.

* https://github.com/WASdev/sample.logstash.collector[Sample dashboards (logstashCollector-1.0)]
* https://github.com/WASdev/sample.dashboards[Sample dashboards (JSON logging)]

For the recent Webinar on Liberty with Elastic Stack and the sample dashboards, check out the link below: +
http://bit.ly/2DjwGOV[Using Liberty with Elastic Stack (aka ELK)]

== Setting up the Elastic stack with Logstash Collector version 1.0:

Follow https://www.ibm.com/support/knowledgecenter/SSD28V_liberty/com.ibm.websphere.wlp.core.doc/ae/twlp_analytics_logstash.html[Using the Logstash collector version 1.0] in the Liberty Knowledge Center.

== Setting up the Elastic stack with JSON Logging:

Follow https://www.ibm.com/support/knowledgecenter/SSAW57_liberty/com.ibm.websphere.wlp.nd.multiplatform.doc/ae/twlp_elk_stack.html[Analyzing logs with Elastic Stack] in the Liberty Knowledge Center.

== Kibana Dashboards

Logstash Collector dashboards:: Audit, Memory, Problems, Traffic
JSON Logging dashboards:: Audit, Problems, Traffic

The main additions to the Memory, Problems and Traffic dashboards are new visualizations that improve the way you can immediately see possible errors occurring in your Liberty servers.

=== Memory Dashboard

image::/img/blog/ELK_dashboard_memory.png[Memory Dashboard, align="left"]

The Memory dashboard using the Logstash Collector feature has two new visualizations, Liberty Slow GC and Liberty Slow GC Count, which respectively allow you to view when garbage collection is occurring, and the counts of garbage collection times ranging from 1 to 5 seconds, 5 to 10 seconds, and greater than 10 seconds. This allows you to easily see whether or not your Liberty Server garbage collection is slow overall, and when slower garbage collection is happening during your serverâ€™s runtime.


=== Problems Dashboard

image::/img/blog/ELK_dashboard_problem1.png[Problem Dashboard Top, align="left"]

image::/img/blog/ELK_dashboard_problem2.png[Problem Dashboard Bottom, align="left"]

The Problems dashboard now includes a new visualization, Liberty Potential Problem Count, which displays the counts of problematic logs in order of log level/severity. The numbers make it easy to see at a glance how many potential problem log entries have been collected. Both Liberty Message and Liberty Trace graphs are broken down by log levels/severity and you can easily see when problems occurred. Click on any of the severities in the legend to add a filter.


=== Traffic Dashboard

image::/img/blog/ELK_dashboard_traffic1.png[Traffic Dashboard Top, align="left"]

image::/img/blog/ELK_dashboard_traffic2.png[Traffic Dashboard Bottom, align="left"]

The Traffic dashboards feature a new visualization, Liberty Error Response Code Count, which displays the count of 400s and 500s response codes. This allows you to easily see if your Liberty Server is encountering any errors in your accessed endpoints.

== Conclusion
For all Audit, Memory, Problem and Traffic dashboards, you can filter log information as needed. By using the ELK stack dashboards with JSON Logging or Logstash Collector feature, you can easily see how healthy and responsive your Liberty servers are performing.
